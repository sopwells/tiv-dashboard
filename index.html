<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tech Investment Valuation (TIV) Dashboard</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: Arial, sans-serif;
            background-color: #f5f5f5;
            color: #333;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: white;
            min-height: 100vh;
        }
        
        .header {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #eee;
        }
        
        .logo {
            font-size: 32px;
            font-weight: bold;
            color: #333;
            letter-spacing: 4px;
        }
        
        .tagline {
            font-size: 12px;
            color: #666;
            text-align: center;
            border-top: 1px solid #ccc;
            border-bottom: 1px solid #ccc;
            padding: 8px 0;
            margin-top: 5px;
        }
        
        .data-controls {
            display: flex;
            gap: 10px;
            align-items: center;
        }
        
        .data-btn {
            padding: 8px 15px;
            border: 2px solid #666;
            background: white;
            font-size: 12px;
            cursor: pointer;
            text-decoration: none;
            color: #333;
        }
        
        .data-btn:hover {
            background-color: #f0f0f0;
        }
        
        .dashboard-header {
            background-color: #4a5bcc;
            color: white;
            padding: 15px 20px;
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 0;
        }
        
        .table-container {
            background-color: white;
            border: 1px solid #ddd;
            overflow-x: auto;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
        }
        
        th {
            background-color: #f8f9fa;
            padding: 12px 15px;
            text-align: left;
            font-weight: bold;
            border-bottom: 2px solid #dee2e6;
            font-size: 14px;
            cursor: pointer;
            user-select: none;
        }
        
        th:hover {
            background-color: #e9ecef;
        }
        
        th::after {
            content: ' ▲▼';
            font-size: 10px;
            opacity: 0.5;
            margin-left: 5px;
        }
        
        td {
            padding: 12px 15px;
            border-bottom: 1px solid #dee2e6;
            font-size: 14px;
        }
        
        tr:hover {
            background-color: #f8f9fa;
        }
        
        .score-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: bold;
            text-transform: uppercase;
            color: white;
        }
        
        .technology-leader {
            background-color: #28a745;
        }
        
        .technology-adopter {
            background-color: #007bff;
        }
        
        .technology-follower {
            background-color: #ffc107;
            color: #212529;
        }
        
        .technology-laggard {
            background-color: #dc3545;
        }
        
        .report-link {
            color: #007bff;
            text-decoration: none;
        }
        
        .report-link:hover {
            text-decoration: underline;
        }
        
        .filters {
            padding: 20px;
            background-color: #f8f9fa;
            border-bottom: 1px solid #dee2e6;
            display: flex;
            gap: 20px;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .filter-group {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .filter-group label {
            font-weight: bold;
            font-size: 14px;
        }
        
        .filter-group select, .filter-group input {
            padding: 6px 10px;
            border: 1px solid #ced4da;
            border-radius: 4px;
            font-size: 14px;
        }
        
        .stats {
            padding: 20px;
            background-color: #e9ecef;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 14px;
        }
        
        .chart-container {
            margin: 30px 0;
            padding: 20px;
            background-color: white;
            border: 1px solid #ddd;
        }
        
        .chart-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo-section">
             <img src="TIV-logo.jpeg" alt="TIV Logo" style="max-height: 200px; width: auto;">
            </div>
        </div>
        
        <div class="dashboard-header">Tech Investment Valuation (TIV) Dashboard - S&P 500 Companies</div>
        
        <div class="filters">
            <div class="filter-group">
                <label>Category:</label>
                <select id="categoryFilter" onchange="filterData()">
                    <option value="">All Categories</option>
                    <option value="Technology Leader">Technology Leader</option>
                    <option value="Technology Adopter">Technology Adopter</option>
                    <option value="Technology Follower">Technology Follower</option>
                    <option value="Technology Laggard">Technology Laggard</option>
                </select>
            </div>
            <div class="filter-group">
                <label>Search:</label>
                <input type="text" id="searchInput" placeholder="Company name..." onkeyup="filterData()">
            </div>
            <div class="filter-group">
                <button onclick="clearFilters()" style="padding: 6px 12px; border: 1px solid #ced4da; background: white; cursor: pointer;">Clear Filters</button>
            </div>
        </div>
        
        <div class="stats">
            <span id="totalCompanies">Total Companies: 19</span>
            <span id="averageScore">Average TIV Score: TBD</span>
            <span>Last Updated: <span id="lastUpdated">2025-09-21</span></span>
        </div>
        
        <div class="table-container">
            <table id="tivTable">
                <thead>
                    <tr>
                        <th onclick="sortTable(0)">Company</th>
                        <th onclick="sortTable(1)">Total TIV Score</th>
                        <th onclick="sortTable(2)">TIV Category</th>
                        <th onclick="sortTable(3)">Part 1: Business and Strategy</th>
                        <th onclick="sortTable(4)">Part 2: Data and Applications</th>
                        <th onclick="sortTable(5)">Part 3: Infrastructure</th>
                        <th>Report</th>
                    </tr>
                </thead>
                <tbody id="tableBody">
                    <!-- Data will be populated by JavaScript -->
                </tbody>
            </table>
        </div>
        
        <div class="chart-container">
            <div class="chart-title">TIV Score Distribution</div>
            <canvas id="scoreChart" width="800" height="300"></canvas>
        </div>
    </div>

    <script>
        // S&P 500 companies ranked 1-20 by market cap with actual TIV scores
        const tivData = [
            // Top 10 (ranks 1-10)
            {
                company: "Visa",
                totalScore: 450,
                percentage: 100.0,
                category: "Technology Leader",
                businessScore: 100.0,
                applicationsScore: 100.0,
                infrastructureScore: 100.0,
                reportUrl: "reports/TIV_Report_Visa_20250921.pdf",
                assessmentDate: "2025-09-30"
            },
            {
                company: "Alphabet",
                totalScore: 440,
                percentage: 97.8,
                category: "Technology Leader",
                businessScore: 93.3,
                applicationsScore: 100,
                infrastructureScore: 100,
                reportUrl: "reports/TIV_Report_Alphabet_20250921.pdf",
                assessmentDate: "2025-09-01"
            },
            {
                company: "Apple",
                totalScore: 436,
                percentage: 96.9,
                category: "Technology Leader",
                businessScore: 98.0,
                applicationsScore: 99.3,
                infrastructureScore: 93.3,
                reportUrl: "reports/TIV_Report_Apple_20250921.pdf",
                assessmentDate: "2025-09-01"
            },
            {
                company: "Meta",
                totalScore: 436,
                percentage: 96.9,
                category: "Technology Leader",
                businessScore: 96.7,
                applicationsScore: 97.3,
                infrastructureScore: 96.7,
                reportUrl: "reports/TIV_Report_Meta_20250921.pdf",
                assessmentDate: "2025-09-30"
            },
            {
                company: "Microsoft",
                totalScore: 436,
                percentage: 96.9,
                category: "Technology Leader",
                businessScore: 91.3,
                applicationsScore: 99.3,
                infrastructureScore: 100,
                reportUrl: "reports/TIV_Report_Microsoft_20250921.pdf",
                assessmentDate: "2025-09-30"
            },
            {
                company: "Nvidia",
                totalScore: 420,
                percentage: 93.3,
                category: "Technology Leader",
                businessScore: 90.0,
                applicationsScore: 93.3,
                infrastructureScore: 96.7,
                reportUrl: "reports/TIV_Report_Nvidia_20250921.pdf",
                assessmentDate: "2025-09-01"
            },
            {
                company: "Walmart",
                totalScore: 414,
                percentage: 92.0,
                category: "Technology Leader",
                businessScore: 100.0,
                applicationsScore: 99.3,
                infrastructureScore: 76.7,
                reportUrl: "reports/TIV_Report_Walmart_20250921.pdf",
                assessmentDate: "2025-09-30"
            },
            {
                company: "JPMorgan Chase",
                totalScore: 411,
                percentage: 91.3,
                category: "Technology Leader",
                businessScore: 80.0,
                applicationsScore: 94.0,
                infrastructureScore: 100.0,
                reportUrl: "reports/TIV_Report_JPMorgan_Chase_20250921.pdf",
                assessmentDate: "2025-09-01"
            },
            {
                company: "Mastercard",
                totalScore: 411,
                percentage: 91.3,
                category: "Technology Leader",
                businessScore: 91.3,
                applicationsScore: 99.3,
                infrastructureScore: 83.3,
                reportUrl: "reports/TIV_Report_Mastercard_20250921.pdf",
                assessmentDate: "2025-09-01"
            },
            {
                company: "Amazon",
                totalScore: 399,
                percentage: 88.7,
                category: "Technology Leader",
                businessScore: 86.7,
                applicationsScore: 92.7,
                infrastructureScore: 86.7,
                reportUrl: "reports/TIV_Report_Amazon_20250921.pdf",
                assessmentDate: "2025-09-01"
            },
            {
                company: "Tesla",
                totalScore: 389,
                percentage: 86.4,
                category: "Technology Leader",
                businessScore: 76.7,
                applicationsScore: 96.0,
                infrastructureScore: 86.7,
                reportUrl: "reports/TIV_Report_Tesla_20250921.pdf",
                assessmentDate: "2025-09-01"
            },
            // Next 10 (ranks 11-20)
            {
                company: "Netflix",
                totalScore: 345,
                percentage: 76.7,
                category: "Technology Adopter",
                businessScore: 66.7,
                applicationsScore: 96.7,
                infrastructureScore: 66.7,
                reportUrl: "reports/TIV_Report_Netflix_20250921.pdf",
                assessmentDate: "2025-09-01"
            },
            {
                company: "Eli Lilly",
                totalScore: 327,
                percentage: 72.7,
                category: "Technology Adopter",
                businessScore: 68.0,
                applicationsScore: 78.0,
                infrastructureScore: 72.0,
                reportUrl: "reports/TIV_Report_Eli_Lilly_20250921.pdf",
                assessmentDate: "2025-09-01"
            },
            {
                company: "Procter & Gamble",
                totalScore: 313,
                percentage: 69.6,
                category: "Technology Adopter",
                businessScore: 81.3,
                applicationsScore: 80.7,
                infrastructureScore: 46.7,
                reportUrl: "reports/TIV_Report_Procter_Gamble_20250921.pdf",
                assessmentDate: "2025-09-01"
            },
            {
                company: "Johnson & Johnson",
                totalScore: 307,
                percentage: 68.2,
                category: "Technology Adopter",
                businessScore: 76.7,
                applicationsScore: 74.7,
                infrastructureScore: 53.3,
                reportUrl: "reports/TIV_Report_Johnson_Johnson_20250921.pdf",
                assessmentDate: "2025-09-01"
            },
            {
                company: "Broadcom",
                totalScore: 280,
                percentage: 62.2,
                category: "Technology Adopter",
                businessScore: 68.0,
                applicationsScore: 75.3,
                infrastructureScore: 43.3,
                reportUrl: "reports/TIV_Report_Broadcom_20250921.pdf",
                assessmentDate: "2025-09-01"
            },
            {
                company: "Exxon Mobil",
                totalScore: 269,
                percentage: 59.8,
                category: "Technology Follower",
                businessScore: 64.7,
                applicationsScore: 61.3,
                infrastructureScore: 53.3,
                reportUrl: "reports/TIV_Report_Exxon_Mobil_20250921.pdf",
                assessmentDate: "2025-09-01"
            },
            {
                company: "Costco",
                totalScore: 254,
                percentage: 56.4,
                category: "Technology Follower",
                businessScore: 32.0,
                applicationsScore: 90.7,
                infrastructureScore: 46.7,
                reportUrl: "reports/TIV_Report_Costco_20250921.pdf",
                assessmentDate: "2025-09-01"
            },
            {
                company: "Berkshire Hathaway",
                totalScore: 63,
                percentage: 14.0,
                category: "Technology Laggard",
                businessScore: 10.0,
                applicationsScore: 24.7,
                infrastructureScore: 7.3,
                reportUrl: "reports/TIV_Report_Berkshire_Hathaway_20250921.pdf",
                assessmentDate: "2025-09-01"
            }
        ];

        let filteredData = [...tivData];
        let sortDirection = {};

        function populateTable() {
            const tbody = document.getElementById('tableBody');
            tbody.innerHTML = '';

            filteredData.forEach(company => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td><strong>${company.company}</strong></td>
                    <td><strong>${company.totalScore}</strong> (${company.percentage}%)</td>
                    <td><span class="score-badge ${company.category.toLowerCase().replace(' ', '-')}">${company.category}</span></td>
                    <td>${company.businessScore}%</td>
                    <td>${company.applicationsScore}%</td>
                    <td>${company.infrastructureScore}%</td>
                    <td><a href="${company.reportUrl}" class="report-link" target="_blank">Download PDF</a></td>
                `;
                tbody.appendChild(row);
            });

            updateStats();
        }

        function updateStats() {
            const totalCompanies = filteredData.length;
            const averageScore = Math.round(filteredData.reduce((sum, company) => sum + company.totalScore, 0) / totalCompanies);
            const averagePercentage = ((averageScore / 450) * 100).toFixed(1);

            document.getElementById('totalCompanies').textContent = `Total Companies: ${totalCompanies}`;
            document.getElementById('averageScore').textContent = `Average TIV Score: ${averageScore} (${averagePercentage}%)`;
        }

        function sortTable(columnIndex) {
            const column = ['company', 'totalScore', 'category', 'businessScore', 'applicationsScore', 'infrastructureScore'][columnIndex];
            const isNumeric = ['totalScore', 'businessScore', 'applicationsScore', 'infrastructureScore'].includes(column);
            
            const direction = sortDirection[column] === 'asc' ? 'desc' : 'asc';
            sortDirection[column] = direction;

            filteredData.sort((a, b) => {
                let valueA = a[column];
                let valueB = b[column];

                if (isNumeric) {
                    valueA = Number(valueA);
                    valueB = Number(valueB);
                } else {
                    valueA = valueA.toLowerCase();
                    valueB = valueB.toLowerCase();
                }

                if (direction === 'asc') {
                    return valueA < valueB ? -1 : valueA > valueB ? 1 : 0;
                } else {
                    return valueA > valueB ? -1 : valueA < valueB ? 1 : 0;
                }
            });

            populateTable();
        }

        function filterData() {
            const categoryFilter = document.getElementById('categoryFilter').value;
            const searchInput = document.getElementById('searchInput').value.toLowerCase();

            filteredData = tivData.filter(company => {
                const matchesCategory = !categoryFilter || company.category === categoryFilter;
                const matchesSearch = !searchInput || company.company.toLowerCase().includes(searchInput);
                
                return matchesCategory && matchesSearch;
            });

            populateTable();
        }

        function clearFilters() {
            document.getElementById('categoryFilter').value = '';
            document.getElementById('searchInput').value = '';
            filteredData = [...tivData];
            populateTable();
        }

        function exportData() {
            alert('Data refresh functionality would connect to your assessment system');
        }

        function drawChart() {
            const canvas = document.getElementById('scoreChart');
            const ctx = canvas.getContext('2d');
            
            // Clear canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // Chart data
            const categories = ['Technology Leader', 'Technology Adopter', 'Technology Follower', 'Technology Laggard'];
            const colors = ['#28a745', '#007bff', '#ffc107', '#dc3545'];
            const counts = categories.map(cat => tivData.filter(company => company.category === cat).length);
            
            // Chart dimensions
            const chartWidth = 600;
            const chartHeight = 200;
            const barWidth = chartWidth / categories.length - 20;
            const maxCount = Math.max(...counts) || 1;
            
            // Draw bars
            categories.forEach((category, index) => {
                const barHeight = (counts[index] / maxCount) * chartHeight;
                const x = index * (barWidth + 20) + 50;
                const y = canvas.height - barHeight - 50;
                
                // Draw bar
                ctx.fillStyle = colors[index];
                ctx.fillRect(x, y, barWidth, barHeight);
                
                // Draw count label
                ctx.fillStyle = '#333';
                ctx.font = '14px Arial';
                ctx.textAlign = 'center';
                ctx.fillText(counts[index].toString(), x + barWidth/2, y - 10);
                
                // Draw category label
                ctx.save();
                ctx.translate(x + barWidth/2, canvas.height - 20);
                ctx.rotate(-Math.PI/6);
                ctx.textAlign = 'right';
                ctx.fillText(category, 0, 0);
                ctx.restore();
            });
            
            // Draw title
            ctx.fillStyle = '#333';
            ctx.font = 'bold 16px Arial';
            ctx.textAlign = 'left';
            ctx.fillText('Companies by TIV Category', 50, 30);
        }

        // Initialize the dashboard
        document.addEventListener('DOMContentLoaded', function() {
            populateTable();
            drawChart();
            document.getElementById('lastUpdated').textContent = new Date().toISOString().split('T')[0];
        });
    </script>
</body>
</html>
